<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - UPT PTKK (Gemini Version)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        .sidebar-item:hover {
            background-color: #1f2937;
        }

        .sidebar-item.active {
            background-color: #1f2937;
            border-left: 4px solid #f59e0b;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.2s;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body class="text-slate-800 font-sans h-screen flex overflow-hidden">

    <!-- SIDEBAR -->
    <aside
        class="w-64 bg-gray-900 text-gray-300 flex flex-col shadow-xl z-20 overflow-y-auto shrink-0 transition-all duration-300"
        id="sidebar">
        <div
            class="h-16 flex items-center px-6 bg-gray-950 text-white font-bold text-xl tracking-wider border-b border-gray-800">
            <i class="fa-solid fa-layer-group text-amber-500 mr-2"></i> SIM-LAT
        </div>

        <nav class="flex-1 px-2 py-4 space-y-6">
            <!-- Group: Main -->
            <div>
                <div class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Utama</div>
                <a href="#"
                    class="sidebar-item active flex items-center px-4 py-2.5 rounded-lg text-white group transition-colors">
                    <i class="fa-solid fa-chart-pie w-6 text-center mr-2 text-amber-500"></i>
                    <span class="font-medium">Dashboard</span>
                </a>
            </div>

            <!-- Group: Akademik -->
            <div>
                <div class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Akademik & Pelatihan
                </div>
                <a href="#"
                    class="sidebar-item flex items-center px-4 py-2 rounded-lg hover:text-white group transition-colors">
                    <i class="fa-solid fa-chalkboard-user w-6 text-center mr-2"></i>
                    <span>Pelatihan</span>
                </a>
                <a href="#"
                    class="sidebar-item flex items-center px-4 py-2 rounded-lg hover:text-white group transition-colors">
                    <i class="fa-solid fa-shapes w-6 text-center mr-2"></i>
                    <span>Kompetensi Kejuruan</span>
                </a>
            </div>

            <!-- Group: Kesiswaan -->
            <div>
                <div class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Kesiswaan</div>
                <a href="#"
                    class="sidebar-item flex items-center px-4 py-2 rounded-lg hover:text-white group transition-colors">
                    <i class="fa-solid fa-users w-6 text-center mr-2"></i>
                    <span>Data Peserta</span>
                </a>
                <a href="#"
                    class="sidebar-item flex items-center px-4 py-2 rounded-lg hover:text-white group transition-colors">
                    <i class="fa-solid fa-clipboard-check w-6 text-center mr-2"></i>
                    <span>Pendaftaran</span>
                </a>
            </div>

            <!-- Group: Fasilitas -->
            <div>
                <div class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Fasilitas</div>
                <a href="#"
                    class="sidebar-item flex items-center px-4 py-2 rounded-lg hover:text-white group transition-colors">
                    <i class="fa-solid fa-bed w-6 text-center mr-2"></i>
                    <span>Asrama</span>
                </a>
            </div>
        </nav>

        <div class="p-4 bg-gray-950 border-t border-gray-800">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-gray-900 font-bold">
                    A</div>
                <div>
                    <div class="text-sm font-medium text-white">Administrator</div>
                    <div class="text-xs text-gray-500">admin@simpel.com</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 flex flex-col">
        <!-- Topbar -->
        <header class="bg-white shadow-sm h-16 flex items-center justify-between px-8 sticky top-0 z-10 shrink-0">
            <div class="flex items-center gap-4">
                <button id="sidebarToggle" class="text-gray-500 hover:text-gray-700 focus:outline-none lg:hidden">
                    <i class="fa-solid fa-bars text-xl"></i>
                </button>
                <div class="text-xl font-bold text-gray-800">Dashboard Overview</div>
            </div>
            <div class="flex items-center gap-4">
                <button class="p-2 text-gray-400 hover:text-gray-600 relative">
                    <i class="fa-regular fa-bell text-xl"></i>
                    <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
                </button>
                <div class="text-sm text-gray-600 font-medium">
                    <i class="fa-solid fa-calendar-day mr-2 text-gray-400"></i> Des 2025
                </div>
            </div>
        </header>

        <div class="p-6 max-w-7xl mx-auto w-full space-y-6">

            <!-- 1. STATS OVERVIEW WIDGET -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Pelatihan Aktif -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Pelatihan Aktif</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-2">3</h3>
                        </div>
                        <div class="p-3 bg-green-50 text-green-600 rounded-lg">
                            <i class="fa-solid fa-arrow-trending-up text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4 text-xs text-gray-500">
                        Sedang atau akan berjalan
                    </div>
                </div>

                <!-- Total Peserta -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Total Peserta</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-2">216</h3>
                        </div>
                        <div class="p-3 bg-blue-50 text-blue-600 rounded-lg">
                            <i class="fa-solid fa-users text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4 text-xs text-gray-500">
                        Seluruh peserta terdaftar
                    </div>
                </div>

                <!-- Total Instruktur -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Total Instruktur</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-2">12</h3>
                        </div>
                        <div class="p-3 bg-amber-50 text-amber-600 rounded-lg">
                            <i class="fa-solid fa-user-group text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4 text-xs text-gray-500">
                        Tenaga pengajar aktif
                    </div>
                </div>

                <!-- Total Kompetensi -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Total Kompetensi</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-2">14</h3>
                        </div>
                        <div class="p-3 bg-indigo-50 text-indigo-600 rounded-lg">
                            <i class="fa-solid fa-academic-cap text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4 text-xs text-gray-500">
                        Kompetensi keahlian tersedia
                    </div>
                </div>
            </div>

            <!-- 2. PELATIHAN AKTIF TABLE WIDGET -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                    <h3 class="font-bold text-gray-800">Pelatihan Aktif & Mendatang</h3>
                    <a href="#" class="text-sm text-blue-600 hover:underline">Lihat Semua</a>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-gray-50 text-gray-500 font-medium">
                            <tr>
                                <th class="px-6 py-4">Nama Pelatihan</th>
                                <th class="px-6 py-4">Tanggal Pelaksanaan</th>
                                <th class="px-6 py-4">Jenis</th>
                                <th class="px-6 py-4">Status</th>
                                <th class="px-6 py-4 text-right">Aksi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Web Programming Batch 3</td>
                                <td class="px-6 py-4 text-gray-600">01 Des 2025 - 30 Des 2025</td>
                                <td class="px-6 py-4"><span
                                        class="bg-purple-100 text-purple-700 px-2 py-1 rounded text-xs font-semibold">Reguler</span>
                                </td>
                                <td class="px-6 py-4"><span
                                        class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Aktif</span>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <button class="text-blue-600 hover:text-blue-800 text-xs font-medium">Lihat Dasbor
                                        &rarr;</button>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Desain Grafis Lanjutan</td>
                                <td class="px-6 py-4 text-gray-600">10 Des 2025 - 20 Des 2025</td>
                                <td class="px-6 py-4"><span
                                        class="bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs font-semibold">Akselerasi</span>
                                </td>
                                <td class="px-6 py-4"><span
                                        class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-semibold">Mendatang</span>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <button class="text-blue-600 hover:text-blue-800 text-xs font-medium">Lihat Dasbor
                                        &rarr;</button>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Teknisi Las Listrik</td>
                                <td class="px-6 py-4 text-gray-600">15 Nov 2025 - 15 Des 2025</td>
                                <td class="px-6 py-4"><span
                                        class="bg-purple-100 text-purple-700 px-2 py-1 rounded text-xs font-semibold">Reguler</span>
                                </td>
                                <td class="px-6 py-4"><span
                                        class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Aktif</span>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <button class="text-blue-600 hover:text-blue-800 text-xs font-medium">Lihat Dasbor
                                        &rarr;</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 3. ROW: SURVEI & ASRAMA -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                <!-- Akumulasi Survei Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-800 mb-4">Akumulasi Survei Peserta</h3>
                    <div class="relative h-64">
                        <canvas id="surveyChart"></canvas>
                    </div>
                </div>

                <!-- Informasi Asrama Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col">
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-800 text-lg">Ketersediaan Asrama</h3>
                        <p class="text-sm text-gray-500">Real-time status okupansi kamar.</p>
                    </div>

                    <!-- Doughnut Chart with Center Text -->
                    <div class="relative h-48 mb-6">
                        <canvas id="asramaDoughnutChart"></canvas>
                        <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                            <span class="text-4xl font-bold text-gray-800">75%</span>
                            <span class="text-xs font-medium text-gray-500 uppercase tracking-wider">Terisi</span>
                        </div>
                    </div>

                    <!-- Custom Legend -->
                    <div class="space-y-3">
                        <!-- Laki-laki -->
                        <div class="flex items-center justify-between text-sm">
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                                <span class="text-gray-600">Laki-laki</span>
                            </div>
                            <span class="font-bold text-gray-800">45 Org</span>
                        </div>
                        <!-- Perempuan -->
                        <div class="flex items-center justify-between text-sm">
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 rounded-full bg-pink-500"></span>
                                <span class="text-gray-600">Perempuan</span>
                            </div>
                            <span class="font-bold text-gray-800">30 Org</span>
                        </div>
                        <!-- Kosong -->
                        <div class="flex items-center justify-between text-sm">
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 rounded-full bg-gray-200"></span>
                                <span class="text-gray-600">Kosong</span>
                            </div>
                            <span class="font-bold text-green-600">15 Bed</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. TOP NILAI TERBAIK TABLE WIDGET -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100">
                    <h3 class="font-bold text-gray-800">Top Nilai Terbaik Per Peserta</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-gray-50 text-gray-500 font-medium">
                            <tr>
                                <th class="px-6 py-4">Kode Peserta</th>
                                <th class="px-6 py-4">Nama Peserta</th>
                                <th class="px-6 py-4">Pelatihan</th>
                                <th class="px-6 py-4">Kompetensi</th>
                                <th class="px-6 py-4 text-right">Rata-rata Nilai</th>
                                <th class="px-6 py-4 text-right">Pre-Test</th>
                                <th class="px-6 py-4 text-right">Post-Test</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-mono text-gray-600">P-2025-001</td>
                                <td class="px-6 py-4 font-medium text-gray-800">Ahmad Rizky</td>
                                <td class="px-6 py-4 text-gray-600">Web Dev Batch 3</td>
                                <td class="px-6 py-4">Web Programming</td>
                                <td class="px-6 py-4 text-right font-bold text-gray-800">92.5</td>
                                <td class="px-6 py-4 text-right text-amber-600">70</td>
                                <td class="px-6 py-4 text-right text-green-600">95</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-mono text-gray-600">P-2025-042</td>
                                <td class="px-6 py-4 font-medium text-gray-800">Sarah Amalia</td>
                                <td class="px-6 py-4 text-gray-600">Desain Grafis Lanjutan</td>
                                <td class="px-6 py-4">Desain Grafis</td>
                                <td class="px-6 py-4 text-right font-bold text-gray-800">90.0</td>
                                <td class="px-6 py-4 text-right text-amber-600">65</td>
                                <td class="px-6 py-4 text-right text-green-600">92</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-mono text-gray-600">P-2025-015</td>
                                <td class="px-6 py-4 font-medium text-gray-800">Budi Santoso</td>
                                <td class="px-6 py-4 text-gray-600">Teknisi Las Listrik</td>
                                <td class="px-6 py-4">Teknisi Las</td>
                                <td class="px-6 py-4 text-right font-bold text-gray-800">88.5</td>
                                <td class="px-6 py-4 text-right text-amber-600">60</td>
                                <td class="px-6 py-4 text-right text-green-600">89</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 5. PERFORMA BIDANG TABLE WIDGET -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100">
                    <h3 class="font-bold text-gray-800">Analisis Detail Per Kompetensi Pelatihan</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-gray-50 text-gray-500 font-medium">
                            <tr>
                                <th class="px-6 py-4">Kompetensi Pelatihan</th>
                                <th class="px-6 py-4 text-center">Jumlah Peserta</th>
                                <th class="px-6 py-4 text-right">Pre-Test (Rata²)</th>
                                <th class="px-6 py-4 text-right">Post-Test (Rata²)</th>
                                <th class="px-6 py-4 text-right">% Peningkatan</th>
                                <th class="px-6 py-4 text-center">Status</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Web Programming</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-bold">25</span>
                                </td>
                                <td class="px-6 py-4 text-right text-amber-600">55.0</td>
                                <td class="px-6 py-4 text-right text-green-600">85.0</td>
                                <td class="px-6 py-4 text-right font-bold text-blue-600">+54.5%</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Sangat
                                        Efektif</span></td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Desain Grafis</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-bold">30</span>
                                </td>
                                <td class="px-6 py-4 text-right text-amber-600">60.0</td>
                                <td class="px-6 py-4 text-right text-green-600">82.0</td>
                                <td class="px-6 py-4 text-right font-bold text-blue-600">+36.6%</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Efektif</span>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 font-medium text-gray-800">Teknisi Las</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-bold">15</span>
                                </td>
                                <td class="px-6 py-4 text-right text-amber-600">45.0</td>
                                <td class="px-6 py-4 text-right text-green-600">75.0</td>
                                <td class="px-6 py-4 text-right font-bold text-red-600">-5.0%</td>
                                <td class="px-6 py-4 text-center"><span
                                        class="bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-semibold">Perlu
                                        Evaluasi</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <footer class="bg-white border-t border-gray-200 p-6 mt-auto">
            <div class="text-center text-sm text-gray-500">
                &copy; 2025 UPT PTKK - Sistem Informasi Manajemen Pelatihan. All rights reserved.
            </div>
        </footer>
    </main>

    <script>
        // Toggle Sidebar for Mobile
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });

        // Chart: Akumulasi Survei (Bar Chart Horizontal)
        const ctxSurvey = document.getElementById('surveyChart').getContext('2d');
        new Chart(ctxSurvey, {
            type: 'bar',
            data: {
                labels: ['Sangat Puas', 'Puas', 'Cukup', 'Kurang'],
                datasets: [{
                    label: 'Jumlah Responden',
                    data: [120, 60, 25, 11],
                    backgroundColor: [
                        '#34d399', // Green
                        '#60a5fa', // Blue
                        '#fbbf24', // Amber
                        '#f87171'  // Red
                    ],
                    borderRadius: 4,
                    barThickness: 30
                }]
            },
            options: {
                indexAxis: 'y', // Horizontal Bar
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: { display: false }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Chart: Informasi Asrama (Doughnut Chart)
        const ctxAsramaDoughnut = document.getElementById('asramaDoughnutChart').getContext('2d');
        new Chart(ctxAsramaDoughnut, {
            type: 'doughnut',
            data: {
                labels: ['Laki-laki', 'Perempuan', 'Kosong'],
                datasets: [{
                    data: [45, 30, 15],
                    backgroundColor: [
                        '#3b82f6', // Blue
                        '#ec4899', // Pink
                        '#e5e7eb'  // Gray
                    ],
                    borderWidth: 0,
                    cutout: '75%',
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: true
                    }
                }
            }
        });
    </script>
</body>

</html>